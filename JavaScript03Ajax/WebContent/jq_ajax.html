<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Insert title here</title>
</head>
<body>
	<div id="target"></div>
	<button id="button1">GET CARS</button>
	
	<table id="table1"></table>

	<script src="js/jquery-3.3.1.js"></script>
	<script>
		$(document).ready(function() {
			$("#button1").click(function() {
				$.get("http://localhost:8080/Spring19Ajax/car", function(data, status) {
					console.log("데이터: " + JSON.stringify(data) 
							+ " / 상태: " + JSON.stringify(status));
					$("#target").text(JSON.stringify(data));
					
					// table 아래의 자식 노드 전체를 삭제
					$("#table1").empty();
					
					// table에 행을 추가
					for (var i = 0; i < data.length; i++) {
						// tr 태그 생성
						var tr = $("<tr></tr>");
						
						// td 태그 생성 (차량 이름)
						var td01 = $("<td>" + data[i].name + "</td>");
						
						// td 태그 생성 (차량 번호)
						var td02 = $("<td>" + data[i].number + "</td>");
						
						// tr 태그에 td 태그 두개를 자식노드로 추가한다.
						tr.append(td01);
						tr.append(td02);
						
						// 완성된 행 하나를 id값이 table1인 앨리먼트에 추가한다.
						$("#table1").append(tr);
					}
				});
			});
		});
	</script>
</body>
</html>